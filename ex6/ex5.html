<html>
  <head>
    <script src="https://aframe.io/releases/1.2.0/aframe.min.js"></script>
    <script>
      AFRAME.registerComponent("mylink", {
        init: function() {  
          this.el.addEventListener("click", (e) => {              
            window.location = this.data.href;      
          })
        }
      })
    </script>
  </head>
  <body>
    <a-scene cursor="rayOrigin: mouse">
      <a-assets>
        <img id="imgSortida" src="assets/entragroc.png" >
        <img id="imgFantasma" src="assets/fantasma.png" >
        <img id="imgCasa" src="assets/casadelsusto.jpg" >
        <a-asset-item id="perro" src="assets/dracula/terror_dog.glb"></a-asset-item>
      </a-assets>
   
      <a-entity camera look-controls wasd-controls="false">
        <a-entity cursor="fuse: true; fuseTimeout: 2000"
                  position="0 0 -1"
                  geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03"
                  material="color: red; shader: flat"
                  animation="property: components.material.material.color;
                             type: color;
                             to: white;
                             dur: 1000;
                             dir: alternate;
                             loop: true">
        </a-entity>
      </a-entity>

      <a-sky src="#imgCasa"></a-sky>

      <a-sphere position="5 2 -5" radius="1" src="#imgFantasma"
                animation="property: rotation; dur: 10000; to: 0 360 0; loop: true">          
      </a-sphere>

      <a-entity gltf-model="#perro"
                position="0 0 -150"
                rotation="0 100 0"
                scale="200 200 200"
                animation="property: position;
                           from: -447 -10 93;
                           to: -9.454 0 2.302;
                           dur: 2000;
                           easing: linear"
                mylink="href: https://checaaaaaaaaa.github.io/Web3D/ex4/ex4.html;"
                           
                           >
        <a-animation attribute="rotation" 
                     from="-447 -10 93"
                     to="-180 77.281 -180"
                     dur="5000"
                     easing="linear">
        </a-animation>
      </a-entity>

      <a-plane position="-1.5 0 60" src="#imgSortida" rotation="0 130 0" transparent="true" mylink="href: https://www.youtube.com/;">
      </a-plane>
    </a-scene>
  </body>
</html>
